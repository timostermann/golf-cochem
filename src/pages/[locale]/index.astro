---
import type { GetStaticPaths } from "astro";
import Layout from "@layouts/Layout.astro";
import i18next, { t } from "i18next";
import { LOCALES } from "@lib/constants";
import { Image } from "astro:assets";
import landscape from "@assets/landscape.png";
import { Headline, HeadlineTag, HeadlineVariant } from "@components/Headline";
import { Button, ButtonVariant } from "@components/Button";
import { StatusCard } from "@components/StatusCard";
import golf from "@icons/golf.svg?raw";
import soccer from "@icons/soccer.svg?raw";
import eifelCourse from "@icons/eifel-course.svg?raw";
import moselCourse from "@icons/mosel-course.svg?raw";

export const getStaticPaths = (() => {
  return LOCALES.map((locale) => ({
    params: {
      locale,
    },
  }));
}) satisfies GetStaticPaths;

const { locale } = Astro.params;

i18next.changeLanguage(locale);

const statusCards = [
  {
    icon: moselCourse,
    title: "Mosel Course",
    open: true,
  },
  {
    icon: eifelCourse,
    title: "Eifel Course",
    open: true,
  },
  {
    icon: soccer,
    title: "Footgolf",
    open: false,
    closedUntil: "11.09.",
  },
  {
    icon: golf,
    title: "Driving Range",
    open: true,
  },
];
---

<Layout title="Willkommen">
  <main>
    <div class="relative flex flex-col items-center px-4 sm:px-6 lg:px-24">
      <Image
        src={landscape}
        aria-hidden
        alt=""
        widths={[360, 720, 1600, landscape.width]}
        sizes={`(max-width: 360px) 360px, (max-width: 720px) 720px, (max-width: 1600px) 1600px, ${landscape.width}px`}
        quality={75}
        loading="eager"
        decoding="sync"
        tabindex={-1}
        class="absolute inset-0 object-cover object-[50%_20%] w-full h-full -z-10"
      />
      <Headline
        tag={HeadlineTag.H1}
        variant={HeadlineVariant.HERO}
        className="sm:max-w-[500px] lg:max-w-[800px] mt-16 lg:mt-32 sm:text-center leading-none lg:leading-[1.15] text-primary-800"
      >
        Willkommen im Golfclub<wbr /> Cochem/<wbr />Mosel e.V
      </Headline>
      <p
        class="w-full sm:text-center mt-4 sm:mt-6 text-primary-800 text-lg md:text-xl"
      >
        Leidenschaft trifft Gastfreundschaft
      </p>
      <div
        class="w-full flex flex-col gap-2 sm:gap-4 items-center justify-center sm:flex-row-reverse mt-6 sm:mt-8"
      >
        <Button href="/" className="w-full sm:w-fit">Startzeit buchen</Button>
        <Button
          href="/"
          className="w-full sm:w-fit"
          variant={ButtonVariant.SECONDARY}
        >
          Indoor Golf
        </Button>
        <Button
          href="/"
          className="w-full sm:w-fit"
          variant={ButtonVariant.SECONDARY}
        >
          Platzinformationen
        </Button>
      </div>
      <ul
        class="mt-16 mb-32 lg:mb-20 lg:mt-32 flex flex-wrap items-center justify-center gap-4 lg:gap-10"
      >
        {
          statusCards.map((card) => (
            <li>
              <StatusCard
                icon={card.icon}
                title={card.title}
                open={card.open}
                closedUntil={card.closedUntil}
              />
            </li>
          ))
        }
      </ul>
    </div>
  </main>
</Layout>
